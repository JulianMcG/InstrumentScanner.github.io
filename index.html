<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Instrument Scanner">
    <meta name="theme-color" content="#007AFF">
    <title>Instrument Scanner</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Scan Page -->
    <div id="scan-page" class="page active">
        <!-- Full screen scanner - no header -->
        <div class="content full-screen">
            <!-- Hamburger Menu -->
            <button id="hamburger-menu" class="hamburger-menu">
                <span class="material-symbols-rounded">menu</span>
            </button>
            
            <!-- Scanner Container -->
            <div id="scanner-container" class="scanner-container full-screen">
                <div id="reader"></div>
                <div class="scan-guide">
                    <div class="scan-guide-text">Position barcode within frame</div>
                </div>
            </div>

            <!-- Form (shown after successful scan) -->
            <div id="scan-form" class="scan-form hidden">
                <div class="form-group">
                    <label for="serial-number">Identifier</label>
                    <input type="text" id="serial-number" readonly>
                </div>

                <div class="form-group">
                    <label for="instrument-type">Item Type</label>
                    <select id="instrument-type" required>
                        <option value="">Select Type</option>
                        <option value="Uniform">Uniform</option>
                        <option value="Jacket">Jacket</option>
                        <option value="Pants">Pants</option>
                        <option value="Hat">Hat</option>
                        <option value="Rain Jacket">Rain Jacket</option>
                        <option value="Flute">Flute</option>
                        <option value="Piccolo">Piccolo</option>
                        <option value="Oboe">Oboe</option>
                        <option value="Bassoon">Bassoon</option>
                        <option value="Bb Clarinet">Bb Clarinet</option>
                        <option value="Eb Clarinet">Eb Clarinet</option>
                        <option value="Alto Clarinet">Alto Clarinet</option>
                        <option value="Bb Bass Clarinet">Bb Bass Clarinet</option>
                        <option value="Alto Saxophone">Alto Saxophone</option>
                        <option value="Tenor Saxophone">Tenor Saxophone</option>
                        <option value="Baritone Saxophone">Baritone Saxophone</option>
                        <option value="Trumpet">Trumpet</option>
                        <option value="French Horn">French Horn</option>
                        <option value="Euphonium">Euphonium</option>
                        <option value="Trombone">Trombone</option>
                        <option value="Tuba">Tuba</option>
                        <option value="Melophone">Melophone</option>
                        <option value="Marching Trombone">Marching Trombone</option>
                        <option value="Marching Baritone">Marching Baritone</option>
                        <option value="Sousaphone">Sousaphone</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group" id="serial-number-group" style="display: none;">
                    <label for="serial-number-input">Serial Number</label>
                    <input type="text" id="serial-number-input" placeholder="Enter item serial number">
                </div>

                <div class="form-group">
                    <label for="person-name">Student Name</label>
                    <input type="text" id="person-name" placeholder="Enter student name (optional)">
                </div>

                <div class="button-group">
                    <button id="check-out-btn" class="btn btn-success">
                        <span class="material-symbols-rounded">assignment_return</span>
                        Check Out
                    </button>
                    <button id="check-in-btn" class="btn btn-warning">
                        <span class="material-symbols-rounded">check_circle</span>
                        Check In
                    </button>
                </div>

                <button id="cancel-btn" class="btn btn-secondary">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>

            <!-- Success Message -->
            <div id="success-message" class="message success hidden">
                <p id="success-text"></p>
            </div>
        </div>
    </div>

    <!-- Inventory Page -->
    <div id="inventory-page" class="page">
        <!-- Hamburger Menu -->
        <button id="hamburger-menu-inventory" class="hamburger-menu">
            <span class="material-symbols-rounded">menu</span>
        </button>
        
        <div class="header">
            <div class="header-top">
                <h1>Inventory</h1>
            </div>
            <div class="stats">
                <div class="stat stat-out">
                    <span class="material-symbols-rounded stat-icon">output</span>
                    <div class="stat-content">
                        <span class="stat-value" id="checked-out-count">0</span>
                        <span class="stat-label">Instruments Checked Out</span>
                    </div>
                </div>
                <div class="stat stat-in">
                    <span class="material-symbols-rounded stat-icon">inventory_2</span>
                    <div class="stat-content">
                        <span class="stat-value" id="checked-in-count">0</span>
                        <span class="stat-label">Instruments Available</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <!-- Category Filter -->
            <div class="filter-section">
                <div class="filter-buttons" data-active="all">
                    <button class="filter-btn active" data-filter="all">
                        <span class="material-symbols-rounded">apps</span>
                        <span>All Items</span>
                    </button>
                    <button class="filter-btn" data-filter="instruments">
                        <span class="material-symbols-rounded">music_note</span>
                        <span>Instruments</span>
                    </button>
                    <button class="filter-btn" data-filter="uniforms">
                        <span class="material-symbols-rounded">checkroom</span>
                        <span>Uniforms</span>
                    </button>
                </div>
            </div>
            
            <!-- Status Filter -->
            <div class="filter-section">
                <div class="chip-container">
                    <button class="chip active" data-filter="all">
                        <span class="material-symbols-rounded">apps</span>
                        <span>All</span>
                    </button>
                    <button class="chip" data-filter="checked-out">
                        <span class="material-symbols-rounded">output</span>
                        <span>Checked Out</span>
                    </button>
                    <button class="chip" data-filter="checked-in">
                        <span class="material-symbols-rounded">inventory_2</span>
                        <span>Available</span>
                    </button>
                </div>
            </div>

            <div id="inventory-list" class="inventory-list">
                <!-- Instruments will be dynamically added here -->
            </div>

            <div id="empty-state" class="empty-state">
                <span class="material-symbols-rounded empty-icon">inventory_2</span>
                <p>No items yet</p>
                <p>Start by scanning an item</p>
            </div>
        </div>
    </div>

    <!-- Search Page -->
    <div id="search-page" class="page">
        <!-- Hamburger Menu -->
        <button id="hamburger-menu-search" class="hamburger-menu">
            <span class="material-symbols-rounded">menu</span>
        </button>
        
        <div class="header">
            <h1>Search</h1>
        </div>
        
        <div class="content">
            <div class="search-container">
                <span class="material-symbols-rounded search-icon">search</span>
                <input type="text" id="search-input" class="search-input" placeholder="Search items, students, or serial numbers">
                <button id="clear-search" class="clear-search hidden">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>

            <div id="search-results" class="inventory-list">
                <!-- Search results will be dynamically added here -->
            </div>

            <div id="search-empty-state" class="empty-state">
                <span class="material-symbols-rounded empty-icon">search</span>
                <p>Search for items</p>
                <p>Enter a name, serial number, or item type</p>
            </div>
        </div>
    </div>

    <!-- Item Options Overlay -->
    <div id="item-options-overlay" class="item-options-overlay hidden">
        <div class="item-options-content">
            <div class="item-options-header">
                <h2>Item Options</h2>
                <button id="close-item-options" class="close-btn">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="item-options-actions">
                <button class="item-option-btn" id="edit-item-btn">
                    <span class="material-symbols-rounded">edit</span>
                    <span>Edit Item</span>
                </button>
                <button class="item-option-btn item-option-danger" id="remove-item-btn">
                    <span class="material-symbols-rounded">delete</span>
                    <span>Remove Item</span>
                </button>
            </div>
        </div>
    </div>


    <!-- Hamburger Menu Overlay -->
    <div id="hamburger-overlay" class="hamburger-overlay hidden">
        <div class="hamburger-content">
            <div class="hamburger-header">
                <h2>Menu</h2>
                <button id="close-hamburger" class="close-btn">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="hamburger-options">
                <button class="hamburger-option" id="manual-entry-option">
                    <span class="material-symbols-rounded">keyboard</span>
                    <span>Manual Barcode Entry</span>
                </button>
                <button class="hamburger-option" id="add-instrument-option">
                    <span class="material-symbols-rounded">add</span>
                    <span>Add New Item</span>
                </button>
                <button class="hamburger-option" id="print-barcodes-option">
                    <span class="material-symbols-rounded">print</span>
                    <span>Print Barcodes</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Bottom Tab Bar - Floating Design -->
    <div class="tab-bar-container">
        <!-- Pill shape with Scan and Inventory -->
        <div class="tab-bar-pill" data-active="scan">
            <button class="tab-btn active" data-page="scan-page">
                <span class="material-symbols-rounded tab-icon">barcode_scanner</span>
                <span class="tab-label">Scan</span>
            </button>
            <button class="tab-btn" data-page="inventory-page">
                <span class="material-symbols-rounded tab-icon">inventory_2</span>
                <span class="tab-label">Inventory</span>
            </button>
        </div>
        
        <!-- Circle shape with Search -->
        <button class="tab-btn-circle" data-page="search-page">
            <span class="material-symbols-rounded">search</span>
        </button>
    </div>

    <!-- Include html5-qrcode library for barcode scanning -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <!-- Include JsBarcode for barcode generation -->
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <!-- Include jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>


