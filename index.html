<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Instrument Scanner">
    <meta name="theme-color" content="#007AFF">
    <title>Instrument Scanner</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Scan Page -->
    <div id="scan-page" class="page active">
        <!-- Full screen scanner - no header -->
        <div class="content full-screen">
            <!-- Scanner Container -->
            <div id="scanner-container" class="scanner-container full-screen">
                <div id="reader"></div>
                <div class="scan-guide">
                    <div class="scan-guide-text">Position barcode within frame</div>
                </div>
            </div>

            <!-- Form (shown after successful scan) -->
            <div id="scan-form" class="scan-form hidden">
                <div class="form-group">
                    <label for="serial-number">Serial Number</label>
                    <input type="text" id="serial-number" readonly>
                </div>

                <div class="form-group">
                    <label for="instrument-type">Instrument Type</label>
                    <select id="instrument-type" required>
                        <option value="">Select Type</option>
                        <option value="Trumpet">Trumpet</option>
                        <option value="Trombone">Trombone</option>
                        <option value="Clarinet">Clarinet</option>
                        <option value="Flute">Flute</option>
                        <option value="Saxophone">Saxophone</option>
                        <option value="French Horn">French Horn</option>
                        <option value="Tuba">Tuba</option>
                        <option value="Drum">Drum</option>
                        <option value="Percussion">Percussion</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="person-name">Student Name</label>
                    <input type="text" id="person-name" placeholder="Enter student name" required>
                </div>

                <div class="button-group">
                    <button id="check-out-btn" class="btn btn-success">
                        <span class="material-symbols-rounded">check_circle</span>
                        Check Out
                    </button>
                    <button id="check-in-btn" class="btn btn-warning">
                        <span class="material-symbols-rounded">assignment_return</span>
                        Check In
                    </button>
                </div>

                <button id="cancel-btn" class="btn btn-secondary">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>

            <!-- Success Message -->
            <div id="success-message" class="message success hidden">
                <p id="success-text"></p>
            </div>
        </div>
    </div>

    <!-- Inventory Page -->
    <div id="inventory-page" class="page">
        <div class="header">
            <h1>Inventory</h1>
            <div class="stats">
                <div class="stat stat-out">
                    <span class="material-symbols-rounded stat-icon">output</span>
                    <div class="stat-content">
                        <span class="stat-value" id="checked-out-count">0</span>
                        <span class="stat-label">Checked Out</span>
                    </div>
                </div>
                <div class="stat stat-in">
                    <span class="material-symbols-rounded stat-icon">inventory_2</span>
                    <div class="stat-content">
                        <span class="stat-value" id="checked-in-count">0</span>
                        <span class="stat-label">Available</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="checked-out">Checked Out</button>
                <button class="filter-btn" data-filter="checked-in">Available</button>
            </div>

            <div id="inventory-list" class="inventory-list">
                <!-- Instruments will be dynamically added here -->
            </div>

            <div id="empty-state" class="empty-state">
                <span class="material-symbols-rounded empty-icon">inventory_2</span>
                <p>No instruments yet</p>
                <p>Start by scanning an instrument</p>
            </div>
        </div>
    </div>

    <!-- Search Page -->
    <div id="search-page" class="page">
        <div class="header">
            <h1>Search</h1>
        </div>
        
        <div class="content">
            <div class="search-container">
                <span class="material-symbols-rounded search-icon">search</span>
                <input type="text" id="search-input" class="search-input" placeholder="Search instruments or students">
                <button id="clear-search" class="clear-search hidden">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>

            <div id="search-results" class="inventory-list">
                <!-- Search results will be dynamically added here -->
            </div>

            <div id="search-empty-state" class="empty-state">
                <span class="material-symbols-rounded empty-icon">search</span>
                <p>Search for instruments</p>
                <p>Enter a name, serial number, or instrument type</p>
            </div>
        </div>
    </div>

    <!-- Bottom Tab Bar -->
    <div class="tab-bar">
        <button class="tab-btn active" data-page="scan-page">
            <span class="material-symbols-rounded tab-icon">qr_code_scanner</span>
            <span class="tab-label">Scan</span>
        </button>
        <button class="tab-btn" data-page="inventory-page">
            <span class="material-symbols-rounded tab-icon">inventory_2</span>
            <span class="tab-label">Inventory</span>
        </button>
        <button class="tab-btn" data-page="search-page">
            <span class="material-symbols-rounded tab-icon">search</span>
            <span class="tab-label">Search</span>
        </button>
    </div>

    <!-- Include html5-qrcode library for barcode scanning -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

